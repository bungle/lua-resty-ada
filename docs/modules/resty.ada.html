<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>LuaJIT FFI bindings to Ada â€” WHATWG-compliant and fast URL parser</title>
    <link rel="stylesheet" href="../ldoc_new.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>resty.ada</h1>


<ul>
  <li><a href="../index.html">Index</a></li>
</ul>

<h2>Contents</h2>
<ul>
<li><a href="#Constructors">Constructors </a></li>
<li><a href="#Convert_Functions">Convert Functions </a></li>
<li><a href="#Validate_Functions">Validate Functions </a></li>
<li><a href="#Has_Functions">Has Functions </a></li>
<li><a href="#Get_Functions">Get Functions </a></li>
<li><a href="#Set_Functions">Set Functions </a></li>
<li><a href="#Clear_Functions">Clear Functions </a></li>
<li><a href="#Search_Functions">Search Functions </a></li>
<li><a href="#Fields">Fields </a></li>
</ul>


<h2>Modules</h2>
<ul class="nowrap">
  <li><strong>resty.ada</strong></li>
  <li><a href="../modules/resty.ada.search.html">resty.ada.search</a></li>
</ul>
<h2>Classes</h2>
<ul class="nowrap">
  <li><a href="../classes/url.html">url</a></li>
  <li><a href="../classes/search.html">search</a></li>
</ul>

</div>

<div id="content">

<h1>Module <code>resty.ada</code></h1>
<p>Provides URL parsing and manipulation functionality.</p>
<p> See: <a href="https://url.spec.whatwg.org/#url-representation">https://url.spec.whatwg.org/#url-representation</a></p>


<h2><a href="#Constructors">Constructors </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#parse">parse (url)</a></td>
	<td class="summary">Parses URL and returns an instance of Ada URL.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#parse_with_base">parse_with_base (url, base)</a></td>
	<td class="summary">Parses URL with base URL and returns an instance of Ada URL.</td>
	</tr>
</table>
<h2><a href="#Convert_Functions">Convert Functions </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#idna_to_ascii">idna_to_ascii (domain)</a></td>
	<td class="summary">Converts a domain (e.g., www.google.com) possibly containing international
 characters to an ascii domain (with punycode).</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#idna_to_unicode">idna_to_unicode (domain)</a></td>
	<td class="summary">Converts possibly international ascii domain to unicode.</td>
	</tr>
</table>
<h2><a href="#Validate_Functions">Validate Functions </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#can_parse">can_parse (url)</a></td>
	<td class="summary">Checks whether the URL can be parsed.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#can_parse_with_base">can_parse_with_base (url, base)</a></td>
	<td class="summary">Checks whether the URL can be parsed with a base URL.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#is_valid">is_valid (url)</a></td>
	<td class="summary">Checks whether the URL is valid.</td>
	</tr>
</table>
<h2><a href="#Has_Functions">Has Functions </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#has_credentials">has_credentials (url)</a></td>
	<td class="summary">Checks whether the URL has credentials.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#has_non_empty_username">has_non_empty_username (url)</a></td>
	<td class="summary">Checks whether the URL has a non-empty username.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#has_password">has_password (url)</a></td>
	<td class="summary">Checks whether the URL has a password.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#has_non_empty_password">has_non_empty_password (url)</a></td>
	<td class="summary">Checks whether the URL has a non-empty password.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#has_hostname">has_hostname (url)</a></td>
	<td class="summary">Checks whether the URL has a hostname (included an empty host).</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#has_empty_hostname">has_empty_hostname (url)</a></td>
	<td class="summary">Checks whether the URL has an host but it is the empty string.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#has_port">has_port (url)</a></td>
	<td class="summary">Checks whether the URL has a (non default) port.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#has_search">has_search (url)</a></td>
	<td class="summary">Checks whether the URL has a search component.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#has_hash">has_hash (url)</a></td>
	<td class="summary">Checks whether the URL has a hash component.</td>
	</tr>
</table>
<h2><a href="#Get_Functions">Get Functions </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#get_components">get_components (url)</a></td>
	<td class="summary">Parses URL and returns a table with URL component positions in a string (Lua 1-based indexing).</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#get_href">get_href (url)</a></td>
	<td class="summary">Get URL in a normalized form.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#get_protocol">get_protocol (url)</a></td>
	<td class="summary">Get protocol from the URL.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#get_scheme_type">get_scheme_type (url)</a></td>
	<td class="summary">Get scheme type from the URL.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#get_origin">get_origin (url)</a></td>
	<td class="summary">Get origin of the URL.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#get_username">get_username (url)</a></td>
	<td class="summary">Get URL&rsquo;s username.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#get_password">get_password (url)</a></td>
	<td class="summary">Get URL&rsquo;s password.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#get_host">get_host (url)</a></td>
	<td class="summary">Get URL&rsquo;s host, serialized, followed by U+003A (:) and url&rsquo;s port,
 serialized.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#get_hostname">get_hostname (url)</a></td>
	<td class="summary">Get  URL&rsquo;s host (name only), serialized.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#get_host_type">get_host_type (url)</a></td>
	<td class="summary">Get host type from the URL.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#get_port">get_port (url)</a></td>
	<td class="summary">Get URL&rsquo;s port.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#get_pathname">get_pathname (url)</a></td>
	<td class="summary">Get URL&rsquo;s path.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#get_search">get_search (url)</a></td>
	<td class="summary">Get URL&rsquo;s search (query).</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#get_hash">get_hash (url)</a></td>
	<td class="summary">Get URL&rsquo;s hash (fragment).</td>
	</tr>
</table>
<h2><a href="#Set_Functions">Set Functions </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#set_protocol">set_protocol (url, protocol)</a></td>
	<td class="summary">Sets protocol to the URL.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#set_username">set_username (url, username)</a></td>
	<td class="summary">Sets username to the URL.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#set_password">set_password (url, password)</a></td>
	<td class="summary">Sets password to the URL.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#set_host">set_host (url, host)</a></td>
	<td class="summary">Sets host to the URL.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#set_hostname">set_hostname (url, hostname)</a></td>
	<td class="summary">Sets host (name only) to the URL.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#set_port">set_port (url, port)</a></td>
	<td class="summary">Sets port to the URL.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#set_pathname">set_pathname (url, path)</a></td>
	<td class="summary">Sets path to the URL.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#set_search">set_search (url, search)</a></td>
	<td class="summary">Sets search (query) to the URL.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#set_hash">set_hash (url, hash)</a></td>
	<td class="summary">Sets hash (fragment) to the URL.</td>
	</tr>
</table>
<h2><a href="#Clear_Functions">Clear Functions </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#clear_port">clear_port (url)</a></td>
	<td class="summary">Clear URL&rsquo;s port.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#clear_search">clear_search (url)</a></td>
	<td class="summary">Clear URL&rsquo;s search (query string).</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#clear_hash">clear_hash (url)</a></td>
	<td class="summary">Clear URL&rsquo;s hash (fragment).</td>
	</tr>
</table>
<h2><a href="#Search_Functions">Search Functions </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#search_parse">search_parse (url)</a></td>
	<td class="summary">Parses search from URL and returns an instance of Ada URL Search.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#search_has">search_has (url, key)</a></td>
	<td class="summary">Checks whether the url has a search with a key.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#search_has_value">search_has_value (url, key, value)</a></td>
	<td class="summary">Checks whether the url has a search with a key with a specific value.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#search_get">search_get (url, key)</a></td>
	<td class="summary">Get URL&rsquo;s search parameter&rsquo;s value.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#search_get_all">search_get_all (url, key)</a></td>
	<td class="summary">Get all the URL&rsquo;s search parameter&rsquo;s values.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#search_set">search_set (url, key, value)</a></td>
	<td class="summary">Set the URL&rsquo;s search parameter&rsquo;s value.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#search_append">search_append (url, key, value)</a></td>
	<td class="summary">Append value to the the URL&rsquo;s search parameter.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#search_remove">search_remove (url, key)</a></td>
	<td class="summary">Remove search parameter from URL.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#search_remove_value">search_remove_value (url, key, value)</a></td>
	<td class="summary">Remove search parameter&rsquo;s value from URL.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#search_sort">search_sort (url)</a></td>
	<td class="summary">Sort the URL&rsquo;s search parameters.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#search_size">search_size (url)</a></td>
	<td class="summary">Count search parameters in URL.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#search_each">search_each (url)</a></td>
	<td class="summary">Iterate over search parameters in URL.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#search_each_key">search_each_key (url)</a></td>
	<td class="summary">Iterate over each key in parameters in URL.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#search_each_value">search_each_value (url)</a></td>
	<td class="summary">Iterate over each value in search parameters in URL.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#search_pairs">search_pairs (url)</a></td>
	<td class="summary">Iterate over each key and value in search parameters in URL.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#search_ipairs">search_ipairs (url)</a></td>
	<td class="summary">Iterate over each parameter in search parameters in URL.</td>
	</tr>
</table>
<h2><a href="#Fields">Fields </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#_VERSION">_VERSION</a></td>
	<td class="summary">resty.ada version</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#search">search</a></td>
	<td class="summary">resty.ada.search</td>
	</tr>
</table>

<br/>
<br/>


    <h2 class="section-header "><a name="Constructors"></a>Constructors </h2>

    <dl class="function">
    <dt>
    <a name = "parse"></a>
    <strong>parse (url)</strong>
    </dt>
    <dd>
    Parses URL and returns an instance of Ada URL.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         url to parse
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><a class="type" href="../classes/url.html#">url</a> or <span class="type">nil</span></span>
        Ada URL instance</li>
        <li>
           <span class="types"><span class="type">nil</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        error message</li>
    </ol>

    <h3>Raises:</h3>
    error when URL is not a string

    <h3>See also:</h3>
    <ul>
         <a href="../modules/resty.ada.html#parse_with_base">parse_with_base</a>
    </ul>

    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">local</span> url, err = ada.<span class="function-name">parse</span>(<span class="string">"https://user:pass@host:1234/path?search#hash"</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "parse_with_base"></a>
    <strong>parse_with_base (url, base)</strong>
    </dt>
    <dd>
    Parses URL with base URL and returns an instance of Ada URL.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         URL (or part of it) to parse
        </li>
        <li><span class="parameter">base</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         base url to parse
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><a class="type" href="../classes/url.html#">url</a> or <span class="type">nil</span></span>
        Ada URL instance</li>
        <li>
           <span class="types"><span class="type">nil</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        error message</li>
    </ol>

    <h3>Raises:</h3>
    error when URL or base is not a string

    <h3>See also:</h3>
    <ul>
         <a href="../modules/resty.ada.html#parse">parse</a>
    </ul>

    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">local</span> url, err = ada.<span class="function-name">parse_with_base</span>(<span class="string">"/path?search#hash"</span>,
                                     <span class="string">"https://user:pass@host:1234"</span>)</pre>
    </ul>

</dd>
</dl>
    <h2 class="section-header "><a name="Convert_Functions"></a>Convert Functions </h2>

    <dl class="function">
    <dt>
    <a name = "idna_to_ascii"></a>
    <strong>idna_to_ascii (domain)</strong>
    </dt>
    <dd>
    Converts a domain (e.g., www.google.com) possibly containing international
 characters to an ascii domain (with punycode). </p>

<p> See: <a href="https://url.spec.whatwg.org/#concept-domain-to-ascii">https://url.spec.whatwg.org/#concept-domain-to-ascii</a></p>

<p> It will not do percent decoding: percent decoding should be done prior to
 calling this function. We do not remove tabs and spaces, they should have
 been removed prior to calling this function. We also do not trim control
 characters. We also assume that the input is not empty. We return &ldquo;&rdquo; on error.</p>

<p> This function may accept or even produce invalid domains.</p>

<p> We receive a UTF-8 string representing a domain name.
 If the string is percent encoded, we apply percent decoding.</p>

<p> Given a domain, we need to identify its labels.</p>

<p> They are separated by label-separators:</p>

<pre><code>U+002E (.) FULL STOP
U+FF0E FULLWIDTH FULL STOP
U+3002 IDEOGRAPHIC FULL STOP
U+FF61 HALFWIDTH IDEOGRAPHIC FULL STOP
</code></pre>

<p> They are all mapped to U+002E.</p>

<p> We process each label into a string that should not exceed 63 octets.
 If the string is already punycode (starts with &ldquo;xn&mdash;&rdquo;), then we must
 scan it to look for unallowed code points.</p>

<p> Otherwise, if the string is not pure ASCII, we need to transcode it
 to punycode by following RFC 3454 which requires us to:</p>

<ul>
<li>Map characters  (see section 3),</li>
<li>Normalize (see section 4),</li>
<li>Reject forbidden characters,</li>
<li>Check for right-to-left characters and if so, check all requirements (see section 6),</li>
<li>Optionally reject based on unassigned code points (section 7).</li>
</ul>


<p> The Unicode standard provides a table of code points with a mapping, a list
 of forbidden code points and so forth. This table is subject to change and
 will vary based on the implementation. For Unicode 15, the table is at
 <a href="https://www.unicode.org/Public/idna/15.0.0/IdnaMappingTable.txt">https://www.unicode.org/Public/idna/15.0.0/IdnaMappingTable.txt</a></p>

<p> The resulting strings should not exceed 255 octets according to RFC 1035
 section 2.3.4. ICU checks for label size and domain size, but these errors
 are ignored.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">domain</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         URL (or part of it) to parse
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a> or <span class="type">nil</span></span>
        ascii domain
    </ol>


    <h3>See also:</h3>
    <ul>
         <a href="../modules/resty.ada.html#idna_to_unicode">idna_to_unicode</a>
    </ul>

    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">local</span> res = ada.<span class="function-name">idna_to_ascii</span>(<span class="string">"www.7â€‘Eleven.com"</span>) <span class="comment">-- www.xn--7eleven-506c.com</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "idna_to_unicode"></a>
    <strong>idna_to_unicode (domain)</strong>
    </dt>
    <dd>
    Converts possibly international ascii domain to unicode. </p>

<p> See: <a href="https://www.unicode.org/reports/tr46/#ToUnicode">https://www.unicode.org/reports/tr46/#ToUnicode</a>


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">domain</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         URL (or part of it) to parse
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a> or <span class="type">nil</span></span>
        (unicode) domain
    </ol>


    <h3>See also:</h3>
    <ul>
         <a href="../modules/resty.ada.html#idna_to_ascii">idna_to_ascii</a>
    </ul>

    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">local</span> res = ada.<span class="function-name">idna_to_unicode</span>(<span class="string">"www.xn--7eleven-506c.com"</span>) <span class="comment">-- www.7â€‘Eleven.com</span></pre>
    </ul>

</dd>
</dl>
    <h2 class="section-header "><a name="Validate_Functions"></a>Validate Functions </h2>

    <dl class="function">
    <dt>
    <a name = "can_parse"></a>
    <strong>can_parse (url)</strong>
    </dt>
    <dd>
    Checks whether the URL can be parsed. </p>

<p> See: <a href="https://url.spec.whatwg.org/#dom-url-canparse">https://url.spec.whatwg.org/#dom-url-canparse</a>


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         URL (or part of it) to check
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><span class="type">boolean</span> or <span class="type">nil</span></span>
        <code>true</code> if URL can be parsed, otherwise <code>false</code> (except on errors <code>nil</code>)</li>
        <li>
           <span class="types"><span class="type">nil</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        error message</li>
    </ol>

    <h3>Raises:</h3>
    error when URL is not a string

    <h3>See also:</h3>
    <ul>
         <li><a href="../modules/resty.ada.html#can_parse_with_base">can_parse_with_base</a></li>
         <li><a href="../modules/resty.ada.html#is_valid">is_valid</a></li>
    </ul>

    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">local</span> ok = ada.<span class="function-name">can_parse</span>(<span class="string">"https://user:pass@host:1234/path?search#hash"</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "can_parse_with_base"></a>
    <strong>can_parse_with_base (url, base)</strong>
    </dt>
    <dd>
    Checks whether the URL can be parsed with a base URL. </p>

<p> See: <a href="https://url.spec.whatwg.org/#dom-url-canparse">https://url.spec.whatwg.org/#dom-url-canparse</a>


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         URL (or part of it) to check
        </li>
        <li><span class="parameter">base</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         base url to check
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><span class="type">boolean</span> or <span class="type">nil</span></span>
        <code>true</code> if URL can be parsed, otherwise <code>false</code> (except on errors <code>nil</code>)</li>
        <li>
           <span class="types"><span class="type">nil</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        error message</li>
    </ol>

    <h3>Raises:</h3>
    error when URL is not a string

    <h3>See also:</h3>
    <ul>
         <li><a href="../modules/resty.ada.html#can_parse">can_parse</a></li>
         <li><a href="../modules/resty.ada.html#is_valid">is_valid</a></li>
    </ul>

    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">local</span> ok = ada.<span class="function-name">can_parse_with_base</span>(<span class="string">"/path?search#hash"</span>,
                                   <span class="string">"https://user:pass@host:1234"</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "is_valid"></a>
    <strong>is_valid (url)</strong>
    </dt>
    <dd>
    Checks whether the URL is valid.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         URL (or part of it) to validate
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><span class="type">boolean</span> or <span class="type">nil</span></span>
        <code>true</code> if URL is valid, otherwise <code>false</code> (except on errors <code>nil</code>)</li>
        <li>
           <span class="types"><span class="type">nil</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        error message</li>
    </ol>

    <h3>Raises:</h3>
    error when URL is not a string

    <h3>See also:</h3>
    <ul>
         <li><a href="../modules/resty.ada.html#can_parse">can_parse</a></li>
         <li><a href="../modules/resty.ada.html#can_parse_with_base">can_parse_with_base</a></li>
    </ul>

    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">local</span> res = ada.<span class="function-name">is_valid</span>(<span class="string">"https://user:pass@host:1234/path?search#hash"</span>)</pre>
    </ul>

</dd>
</dl>
    <h2 class="section-header "><a name="Has_Functions"></a>Has Functions </h2>

    <dl class="function">
    <dt>
    <a name = "has_credentials"></a>
    <strong>has_credentials (url)</strong>
    </dt>
    <dd>
    Checks whether the URL has credentials. </p>

<p> A URL includes credentials if its username or password is not the empty string.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         URL (or part of it) to check
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><span class="type">boolean</span> or <span class="type">nil</span></span>
        <code>true</code> if URL has credentials, otherwise <code>false</code> (except on errors <code>nil</code>)</li>
        <li>
           <span class="types"><span class="type">nil</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        error message</li>
    </ol>

    <h3>Raises:</h3>
    error when URL is not a string

    <h3>See also:</h3>
    <ul>
         <li><a href="../modules/resty.ada.html#has_non_empty_username">has_non_empty_username</a></li>
         <li><a href="../modules/resty.ada.html#get_username">get_username</a></li>
         <li><a href="../modules/resty.ada.html#set_username">set_username</a></li>
         <li><a href="../modules/resty.ada.html#has_credentials">has_credentials</a></li>
    </ul>

    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">local</span> res = ada.<span class="function-name">has_credentials</span>(<span class="string">"https://user:pass@host:1234/path?search#hash"</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "has_non_empty_username"></a>
    <strong>has_non_empty_username (url)</strong>
    </dt>
    <dd>
    Checks whether the URL has a non-empty username.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         URL (or part of it) to check
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><span class="type">boolean</span> or <span class="type">nil</span></span>
        <code>true</code> if URL has a non-empty username, otherwise <code>false</code> (except on errors <code>nil</code>)</li>
        <li>
           <span class="types"><span class="type">nil</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        error message</li>
    </ol>

    <h3>Raises:</h3>
    error when URL is not a string

    <h3>See also:</h3>
    <ul>
         <li><a href="../modules/resty.ada.html#get_username">get_username</a></li>
         <li><a href="../modules/resty.ada.html#set_username">set_username</a></li>
         <li><a href="../modules/resty.ada.html#has_credentials">has_credentials</a></li>
    </ul>

    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">local</span> res = ada.<span class="function-name">has_non_empty_username</span>(<span class="string">"https://user:pass@host:1234/path?search#hash"</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "has_password"></a>
    <strong>has_password (url)</strong>
    </dt>
    <dd>
    Checks whether the URL has a password.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         URL (or part of it) to check
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><span class="type">boolean</span> or <span class="type">nil</span></span>
        <code>true</code> if URL has a password, otherwise <code>false</code> (except on errors <code>nil</code>)</li>
        <li>
           <span class="types"><span class="type">nil</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        error message</li>
    </ol>

    <h3>Raises:</h3>
    error when URL is not a string

    <h3>See also:</h3>
    <ul>
         <li><a href="../modules/resty.ada.html#has_non_empty_password">has_non_empty_password</a></li>
         <li><a href="../modules/resty.ada.html#get_password">get_password</a></li>
         <li><a href="../modules/resty.ada.html#set_password">set_password</a></li>
         <li><a href="../modules/resty.ada.html#has_credentials">has_credentials</a></li>
    </ul>

    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">local</span> res = ada.<span class="function-name">has_password</span>(<span class="string">"https://user:pass@host:1234/path?search#hash"</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "has_non_empty_password"></a>
    <strong>has_non_empty_password (url)</strong>
    </dt>
    <dd>
    Checks whether the URL has a non-empty password.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         URL (or part of it) to check
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><span class="type">boolean</span> or <span class="type">nil</span></span>
        <code>true</code> if URL has a non-empty password, otherwise <code>false</code> (except on errors <code>nil</code>)</li>
        <li>
           <span class="types"><span class="type">nil</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        error message</li>
    </ol>

    <h3>Raises:</h3>
    error when URL is not a string

    <h3>See also:</h3>
    <ul>
         <li><a href="../modules/resty.ada.html#has_password">has_password</a></li>
         <li><a href="../modules/resty.ada.html#get_password">get_password</a></li>
         <li><a href="../modules/resty.ada.html#set_password">set_password</a></li>
         <li><a href="../modules/resty.ada.html#has_credentials">has_credentials</a></li>
    </ul>

    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">local</span> res = ada.<span class="function-name">has_non_empty_password</span>(<span class="string">"https://user:pass@host:1234/path?search#hash"</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "has_hostname"></a>
    <strong>has_hostname (url)</strong>
    </dt>
    <dd>
    Checks whether the URL has a hostname (included an empty host).


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         URL (or part of it) to check
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><span class="type">boolean</span> or <span class="type">nil</span></span>
        <code>true</code> if URL has a hostname (included an empty host), otherwise <code>false</code> (except on errors <code>nil</code>)</li>
        <li>
           <span class="types"><span class="type">nil</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        error message</li>
    </ol>

    <h3>Raises:</h3>
    error when URL is not a string

    <h3>See also:</h3>
    <ul>
         <li><a href="../modules/resty.ada.html#has_empty_hostname">has_empty_hostname</a></li>
         <li><a href="../modules/resty.ada.html#get_hostname">get_hostname</a></li>
         <li><a href="../modules/resty.ada.html#set_hostname">set_hostname</a></li>
    </ul>

    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">local</span> res = ada.<span class="function-name">has_hostname</span>(<span class="string">"https://user:pass@host:1234/path?search#hash"</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "has_empty_hostname"></a>
    <strong>has_empty_hostname (url)</strong>
    </dt>
    <dd>
    Checks whether the URL has an host but it is the empty string.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         URL (or part of it) to check
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><span class="type">boolean</span> or <span class="type">nil</span></span>
        <code>true</code> if URL has an empty hostname, otherwise <code>false</code> (except on errors <code>nil</code>)</li>
        <li>
           <span class="types"><span class="type">nil</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        error message</li>
    </ol>

    <h3>Raises:</h3>
    error when URL is not a string

    <h3>See also:</h3>
    <ul>
         <li><a href="../modules/resty.ada.html#has_hostname">has_hostname</a></li>
         <li><a href="../modules/resty.ada.html#get_hostname">get_hostname</a></li>
         <li><a href="../modules/resty.ada.html#set_hostname">set_hostname</a></li>
    </ul>

    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">local</span> res = ada.<span class="function-name">has_empty_hostname</span>(<span class="string">"https://user:pass@host:1234/path?search#hash"</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "has_port"></a>
    <strong>has_port (url)</strong>
    </dt>
    <dd>
    Checks whether the URL has a (non default) port.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         URL (or part of it) to check
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><span class="type">boolean</span> or <span class="type">nil</span></span>
        <code>true</code> if URL has a (non default) port, otherwise <code>false</code> (except on errors <code>nil</code>)</li>
        <li>
           <span class="types"><span class="type">nil</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        error message</li>
    </ol>

    <h3>Raises:</h3>
    error when URL is not a string

    <h3>See also:</h3>
    <ul>
         <li><a href="../modules/resty.ada.html#get_port">get_port</a></li>
         <li><a href="../modules/resty.ada.html#set_port">set_port</a></li>
         <li><a href="../modules/resty.ada.html#clear_port">clear_port</a></li>
    </ul>

    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">local</span> res = ada.<span class="function-name">has_port</span>(<span class="string">"https://user:pass@host:1234/path?search#hash"</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "has_search"></a>
    <strong>has_search (url)</strong>
    </dt>
    <dd>
    Checks whether the URL has a search component.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         URL (or part of it) to check
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><span class="type">boolean</span> or <span class="type">nil</span></span>
        <code>true</code> if URL has a search, otherwise <code>false</code> (except on errors <code>nil</code>)</li>
        <li>
           <span class="types"><span class="type">nil</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        error message</li>
    </ol>

    <h3>Raises:</h3>
    error when URL is not a string

    <h3>See also:</h3>
    <ul>
         <li><a href="../modules/resty.ada.html#get_search">get_search</a></li>
         <li><a href="../modules/resty.ada.html#set_search">set_search</a></li>
         <li><a href="../modules/resty.ada.html#clear_search">clear_search</a></li>
    </ul>

    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">local</span> res = ada.<span class="function-name">has_search</span>(<span class="string">"https://user:pass@host:1234/path?search#hash"</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "has_hash"></a>
    <strong>has_hash (url)</strong>
    </dt>
    <dd>
    Checks whether the URL has a hash component.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         URL (or part of it) to check
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><span class="type">boolean</span> or <span class="type">nil</span></span>
        <code>true</code> if URL has a hash, otherwise <code>false</code> (except on errors <code>nil</code>)</li>
        <li>
           <span class="types"><span class="type">nil</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        error message</li>
    </ol>

    <h3>Raises:</h3>
    error when URL is not a string

    <h3>See also:</h3>
    <ul>
         <li><a href="../modules/resty.ada.html#get_hash">get_hash</a></li>
         <li><a href="../modules/resty.ada.html#set_hash">set_hash</a></li>
         <li><a href="../modules/resty.ada.html#clear_hash">clear_hash</a></li>
    </ul>

    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">local</span> res = ada.<span class="function-name">has_hash</span>(<span class="string">"https://user:pass@host:1234/path?search#hash"</span>)</pre>
    </ul>

</dd>
</dl>
    <h2 class="section-header "><a name="Get_Functions"></a>Get Functions </h2>

    <dl class="function">
    <dt>
    <a name = "get_components"></a>
    <strong>get_components (url)</strong>
    </dt>
    <dd>
    <p>Parses URL and returns a table with URL component positions in a string (Lua 1-based indexing). </p>

<p> Please be careful with the output of this function as it normalizes the input string.</p>

<pre><code>https://user:pass@example.com:1234/foo/bar?baz#quux
      |     |    |          | ^^^^|       |   |
      |     |    |          | |   |       |   ------ hash_start
      |     |    |          | |   |       ---------- search_start
      |     |    |          | |   ------------------ pathname_start
      |     |    |          | ---------------------- port
      |     |    |          ------------------------ host_end
      |     |    ----------------------------------- host_start
      |     ---------------------------------------- username_end
      ---------------------------------------------- protocol_end
</code></pre>

<p> Given a following URL:</p>

<pre><code>https://user:pass@example.com:1234/foo/bar?baz#quux
</code></pre>

<p> This function will return following table:</p>

<pre><code>{
  protocol_end = 7,
  username_end = 13,
  host_start = 18,
  host_end = 29,
  port = 1234,
  pathname_start = 35,
  search_start = 43,
  hash_start = 47,
}
</code></pre>



    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         URL (or part of it) to from which the URL component positions are extracted
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.5">table</a> or <span class="type">nil</span></span>
        table of URL components (or their positions) (except on errors <code>nil</code>)</li>
        <li>
           <span class="types"><span class="type">nil</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        error message</li>
    </ol>

    <h3>Raises:</h3>
    error when URL is not a string


    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">local</span> res = ada.<span class="function-name">get_components</span>(<span class="string">"https://user:pass@host:1234/path?search#hash"</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "get_href"></a>
    <strong>get_href (url)</strong>
    </dt>
    <dd>
    Get URL in a normalized form. </p>

<p> See: <a href="https://url.spec.whatwg.org/#dom-url-href">https://url.spec.whatwg.org/#dom-url-href</a>
 See: <a href="https://url.spec.whatwg.org/#concept-url-serializer">https://url.spec.whatwg.org/#concept-url-serializer</a>


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         URL (or part of it) from which to get href
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a> or <span class="type">nil</span></span>
        URL in a normalized form (except on errors <code>nil</code>)</li>
        <li>
           <span class="types"><span class="type">nil</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        error message</li>
    </ol>

    <h3>Raises:</h3>
    error when URL is not a string


    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">local</span> res = ada.<span class="function-name">get_href</span>(<span class="string">"https://user:pass@host:1234/path?search#hash"</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "get_protocol"></a>
    <strong>get_protocol (url)</strong>
    </dt>
    <dd>
    Get protocol from the URL. </p>

<p> See: <a href="https://url.spec.whatwg.org/#dom-url-protocol">https://url.spec.whatwg.org/#dom-url-protocol</a>


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         URL (or part of it) from which to extract the protocol
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a> or <span class="type">nil</span></span>
        protocol part of the URL (except on errors <code>nil</code>)</li>
        <li>
           <span class="types"><span class="type">nil</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        error message</li>
    </ol>

    <h3>Raises:</h3>
    error when URL is not a string

    <h3>See also:</h3>
    <ul>
         <a href="../modules/resty.ada.html#set_protocol">set_protocol</a>
    </ul>

    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">local</span> res = ada.<span class="function-name">get_protocol</span>(<span class="string">"https://user:pass@host:1234/path?search#hash"</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "get_scheme_type"></a>
    <strong>get_scheme_type (url)</strong>
    </dt>
    <dd>
    <p>Get scheme type from the URL. </p>

<p> See: <a href="https://url.spec.whatwg.org/#url-miscellaneous">https://url.spec.whatwg.org/#url-miscellaneous</a></p>

<p> Scheme type definitions:</p>

<pre><code>0 = HTTP
1 = NOT_SPECIAL
2 = HTTPS
3 = WS
4 = FTP
5 = WSS
6 = FILE
</code></pre>



    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         URL (or part of it) from which to get scheme type
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><span class="type">number</span> or <span class="type">nil</span></span>
        scheme type of the URL (except on errors <code>nil</code>)</li>
        <li>
           <span class="types"><span class="type">nil</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        error message</li>
    </ol>

    <h3>Raises:</h3>
    error when URL is not a string


    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">local</span> res = ada.<span class="function-name">get_scheme_type</span>(<span class="string">"https://user:pass@host:1234/path?search#hash"</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "get_origin"></a>
    <strong>get_origin (url)</strong>
    </dt>
    <dd>
    Get origin of the URL. </p>

<p> See: <a href="https://url.spec.whatwg.org/#concept-url-origin">https://url.spec.whatwg.org/#concept-url-origin</a>


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         URL (or part of it) from which to get origin
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a> or <span class="type">nil</span></span>
        origin of the URL (except on errors <code>nil</code>)</li>
        <li>
           <span class="types"><span class="type">nil</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        error message</li>
    </ol>

    <h3>Raises:</h3>
    error when URL is not a string


    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">local</span> res = ada.<span class="function-name">get_origin</span>(<span class="string">"https://user:pass@host:1234/path?search#hash"</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "get_username"></a>
    <strong>get_username (url)</strong>
    </dt>
    <dd>
    Get URL&rsquo;s username. </p>

<p> See: <a href="https://url.spec.whatwg.org/#dom-url-username">https://url.spec.whatwg.org/#dom-url-username</a>


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         URL (or part of it) from which to get username
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a> or <span class="type">nil</span></span>
        URL&rsquo;s username (except on errors <code>nil</code>)</li>
        <li>
           <span class="types"><span class="type">nil</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        error message</li>
    </ol>

    <h3>Raises:</h3>
    error when URL is not a string

    <h3>See also:</h3>
    <ul>
         <li><a href="../modules/resty.ada.html#has_non_empty_username">has_non_empty_username</a></li>
         <li><a href="../modules/resty.ada.html#set_username">set_username</a></li>
         <li><a href="../modules/resty.ada.html#has_credentials">has_credentials</a></li>
    </ul>

    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">local</span> res = ada.<span class="function-name">get_username</span>(<span class="string">"https://user:pass@host:1234/path?search#hash"</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "get_password"></a>
    <strong>get_password (url)</strong>
    </dt>
    <dd>
    Get URL&rsquo;s password. </p>

<p> See: <a href="https://url.spec.whatwg.org/#dom-url-password">https://url.spec.whatwg.org/#dom-url-password</a>


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         URL (or part of it) from which to get password
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a> or <span class="type">nil</span></span>
        URL&rsquo;s password (except on errors <code>nil</code>)</li>
        <li>
           <span class="types"><span class="type">nil</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        error message</li>
    </ol>

    <h3>Raises:</h3>
    error when URL is not a string

    <h3>See also:</h3>
    <ul>
         <li><a href="../modules/resty.ada.html#has_password">has_password</a></li>
         <li><a href="../modules/resty.ada.html#has_non_empty_password">has_non_empty_password</a></li>
         <li><a href="../modules/resty.ada.html#set_password">set_password</a></li>
         <li><a href="../modules/resty.ada.html#has_credentials">has_credentials</a></li>
    </ul>

    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">local</span> res = ada.<span class="function-name">get_password</span>(<span class="string">"https://user:pass@host:1234/path?search#hash"</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "get_host"></a>
    <strong>get_host (url)</strong>
    </dt>
    <dd>
    Get URL&rsquo;s host, serialized, followed by U+003A (:) and url&rsquo;s port,
 serialized. </p>

<p> See: <a href="https://url.spec.whatwg.org/#dom-url-host">https://url.spec.whatwg.org/#dom-url-host</a>


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         URL (or part of it) from which to get host
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a> or <span class="type">nil</span></span>
        URL&rsquo;s host (except on errors <code>nil</code>)</li>
        <li>
           <span class="types"><span class="type">nil</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        error message</li>
    </ol>

    <h3>Raises:</h3>
    error when URL is not a string

    <h3>See also:</h3>
    <ul>
         <a href="../modules/resty.ada.html#set_host">set_host</a>
    </ul>

    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">local</span> res = ada.<span class="function-name">get_host</span>(<span class="string">"https://user:pass@host:1234/path?search#hash"</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "get_hostname"></a>
    <strong>get_hostname (url)</strong>
    </dt>
    <dd>
    Get  URL&rsquo;s host (name only), serialized. </p>

<p> When there is no host, this function returns the empty string.</p>

<p> See: <a href="https://url.spec.whatwg.org/#dom-url-hostname">https://url.spec.whatwg.org/#dom-url-hostname</a>


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         URL (or part of it) from which to get host (name only)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a> or <span class="type">nil</span></span>
        URL&rsquo;s host (name only) (except on errors <code>nil</code>)</li>
        <li>
           <span class="types"><span class="type">nil</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        error message</li>
    </ol>

    <h3>Raises:</h3>
    error when URL is not a string

    <h3>See also:</h3>
    <ul>
         <li><a href="../modules/resty.ada.html#has_hostname">has_hostname</a></li>
         <li><a href="../modules/resty.ada.html#has_empty_hostname">has_empty_hostname</a></li>
         <li><a href="../modules/resty.ada.html#set_hostname">set_hostname</a></li>
    </ul>

    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">local</span> res = ada.<span class="function-name">get_hostname</span>(<span class="string">"https://user:pass@host:1234/path?search#hash"</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "get_host_type"></a>
    <strong>get_host_type (url)</strong>
    </dt>
    <dd>
    <p>Get host type from the URL. </p>

<p> Host type definitions:</p>

<pre><code>0 = DEFAULT: e.g. "https://www.google.com"
1 = IPV4:    e.g. "http://127.0.0.1"
2 = IPV6:    e.g. "http://[2001:db8:3333:4444:5555:6666:7777:8888]"
</code></pre>



    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         URL (or part of it) from which to get scheme type
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><span class="type">number</span> or <span class="type">nil</span></span>
        scheme type of the URL (except on errors <code>nil</code>)</li>
        <li>
           <span class="types"><span class="type">nil</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        error message</li>
    </ol>

    <h3>Raises:</h3>
    error when URL is not a string


    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">local</span> res = ada.<span class="function-name">get_host_type</span>(<span class="string">"https://user:pass@host:1234/path?search#hash"</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "get_port"></a>
    <strong>get_port (url)</strong>
    </dt>
    <dd>
    Get URL&rsquo;s port. </p>

<p> See: <a href="https://url.spec.whatwg.org/#dom-url-port">https://url.spec.whatwg.org/#dom-url-port</a>


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         URL (or part of it) from which to get port
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><span class="type">number</span>, <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a> or <span class="type">nil</span></span>
        URL&rsquo;s port (except on errors <code>nil</code>)</li>
        <li>
           <span class="types"><span class="type">nil</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        error message</li>
    </ol>

    <h3>Raises:</h3>
    error when URL is not a string

    <h3>See also:</h3>
    <ul>
         <li><a href="../modules/resty.ada.html#has_port">has_port</a></li>
         <li><a href="../modules/resty.ada.html#set_port">set_port</a></li>
         <li><a href="../modules/resty.ada.html#clear_port">clear_port</a></li>
    </ul>

    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">local</span> res = ada.<span class="function-name">get_port</span>(<span class="string">"https://user:pass@host:1234/path?search#hash"</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "get_pathname"></a>
    <strong>get_pathname (url)</strong>
    </dt>
    <dd>
    Get URL&rsquo;s path. </p>

<p> See: <a href="https://url.spec.whatwg.org/#dom-url-pathname">https://url.spec.whatwg.org/#dom-url-pathname</a>


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         URL (or part of it) from which to get path
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a> or <span class="type">nil</span></span>
        URL&rsquo;s path (except on errors <code>nil</code>)</li>
        <li>
           <span class="types"><span class="type">nil</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        error message</li>
    </ol>

    <h3>Raises:</h3>
    error when URL is not a string

    <h3>See also:</h3>
    <ul>
         <a href="../modules/resty.ada.html#set_pathname">set_pathname</a>
    </ul>

    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">local</span> res = ada.<span class="function-name">get_pathname</span>(<span class="string">"https://user:pass@host:1234/path?search#hash"</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "get_search"></a>
    <strong>get_search (url)</strong>
    </dt>
    <dd>
    Get URL&rsquo;s search (query). </p>

<p> Return U+003F (?), followed by URL&rsquo;s query.</p>

<p> See: <a href="https://url.spec.whatwg.org/#dom-url-search">https://url.spec.whatwg.org/#dom-url-search</a>


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         URL (or part of it) from which to get query
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a> or <span class="type">nil</span></span>
        URL&rsquo;s query (except on errors <code>nil</code>)</li>
        <li>
           <span class="types"><span class="type">nil</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        error message</li>
    </ol>

    <h3>Raises:</h3>
    error when URL is not a string

    <h3>See also:</h3>
    <ul>
         <li><a href="../modules/resty.ada.html#has_search">has_search</a></li>
         <li><a href="../modules/resty.ada.html#set_search">set_search</a></li>
         <li><a href="../modules/resty.ada.html#clear_search">clear_search</a></li>
    </ul>

    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">local</span> res = ada.<span class="function-name">get_search</span>(<span class="string">"https://user:pass@host:1234/path?search#hash"</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "get_hash"></a>
    <strong>get_hash (url)</strong>
    </dt>
    <dd>
    Get URL&rsquo;s hash (fragment). </p>

<p> Return U+0023 (#), followed by URL&rsquo;s fragment.</p>

<p> See: <a href="https://url.spec.whatwg.org/#dom-url-hash">https://url.spec.whatwg.org/#dom-url-hash</a>


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         URL (or part of it) from which to get fragment
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a> or <span class="type">nil</span></span>
        URL&rsquo;s fragment (except on errors <code>nil</code>)</li>
        <li>
           <span class="types"><span class="type">nil</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        error message</li>
    </ol>

    <h3>Raises:</h3>
    error when URL is not a string

    <h3>See also:</h3>
    <ul>
         <li><a href="../modules/resty.ada.html#has_hash">has_hash</a></li>
         <li><a href="../modules/resty.ada.html#set_hash">set_hash</a></li>
         <li><a href="../modules/resty.ada.html#clear_hash">clear_hash</a></li>
    </ul>

    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">local</span> res = ada.<span class="function-name">get_hash</span>(<span class="string">"https://user:pass@host:1234/path?search#hash"</span>)</pre>
    </ul>

</dd>
</dl>
    <h2 class="section-header "><a name="Set_Functions"></a>Set Functions </h2>

    <dl class="function">
    <dt>
    <a name = "set_protocol"></a>
    <strong>set_protocol (url, protocol)</strong>
    </dt>
    <dd>
    Sets protocol to the URL. </p>

<p> See: <a href="https://url.spec.whatwg.org/#dom-url-protocol">https://url.spec.whatwg.org/#dom-url-protocol</a>


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         URL (or part of it) for which to set the protocol
        </li>
        <li><span class="parameter">protocol</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         the protocol to set to the URL
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a> or <span class="type">nil</span></span>
        URL in a normalized form (except on errors <code>nil</code>)</li>
        <li>
           <span class="types"><span class="type">nil</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        error message</li>
    </ol>

    <h3>Raises:</h3>
    error when URL is not a string

    <h3>See also:</h3>
    <ul>
         <a href="../modules/resty.ada.html#get_protocol">get_protocol</a>
    </ul>

    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">local</span> res = ada.<span class="function-name">set_protocol</span>(<span class="string">"https://user:pass@host:1234/path?search#hash"</span>, <span class="string">"wss"</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "set_username"></a>
    <strong>set_username (url, username)</strong>
    </dt>
    <dd>
    Sets username to the URL. </p>

<p> See: <a href="https://url.spec.whatwg.org/#dom-url-username">https://url.spec.whatwg.org/#dom-url-username</a>


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         URL (or part of it) for which to set the username
        </li>
        <li><span class="parameter">username</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         the username to set to the URL
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a> or <span class="type">nil</span></span>
        URL in a normalized form (except on errors <code>nil</code>)</li>
        <li>
           <span class="types"><span class="type">nil</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        error message</li>
    </ol>

    <h3>Raises:</h3>
    error when URL is not a string

    <h3>See also:</h3>
    <ul>
         <li><a href="../modules/resty.ada.html#has_non_empty_username">has_non_empty_username</a></li>
         <li><a href="../modules/resty.ada.html#get_username">get_username</a></li>
         <li><a href="../modules/resty.ada.html#has_credentials">has_credentials</a></li>
    </ul>

    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">local</span> res = ada.<span class="function-name">set_username</span>(<span class="string">"https://user:pass@host:1234/path?search#hash"</span>, <span class="string">"guest"</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "set_password"></a>
    <strong>set_password (url, password)</strong>
    </dt>
    <dd>
    Sets password to the URL. </p>

<p> See: <a href="https://url.spec.whatwg.org/#dom-url-password">https://url.spec.whatwg.org/#dom-url-password</a>


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         URL (or part of it) for which to set the password
        </li>
        <li><span class="parameter">password</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         the password to set to the URL
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a> or <span class="type">nil</span></span>
        URL in a normalized form (except on errors <code>nil</code>)</li>
        <li>
           <span class="types"><span class="type">nil</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        error message</li>
    </ol>

    <h3>Raises:</h3>
    error when URL is not a string

    <h3>See also:</h3>
    <ul>
         <li><a href="../modules/resty.ada.html#has_password">has_password</a></li>
         <li><a href="../modules/resty.ada.html#has_non_empty_password">has_non_empty_password</a></li>
         <li><a href="../modules/resty.ada.html#get_password">get_password</a></li>
         <li><a href="../modules/resty.ada.html#has_credentials">has_credentials</a></li>
    </ul>

    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">local</span> res = ada.<span class="function-name">set_password</span>(<span class="string">"https://user:pass@host:1234/path?search#hash"</span>, <span class="string">"secret"</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "set_host"></a>
    <strong>set_host (url, host)</strong>
    </dt>
    <dd>
    Sets host to the URL. </p>

<p> See: <a href="https://url.spec.whatwg.org/#dom-url-host">https://url.spec.whatwg.org/#dom-url-host</a>


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         URL (or part of it) for which to set the host
        </li>
        <li><span class="parameter">host</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         the host to set to the URL
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a> or <span class="type">nil</span></span>
        URL in a normalized form (except on errors <code>nil</code>)</li>
        <li>
           <span class="types"><span class="type">nil</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        error message</li>
    </ol>

    <h3>Raises:</h3>
    error when URL is not a string

    <h3>See also:</h3>
    <ul>
         <a href="../modules/resty.ada.html#get_host">get_host</a>
    </ul>

    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">local</span> res = ada.<span class="function-name">set_host</span>(<span class="string">"https://user:pass@host:1234/path?search#hash"</span>, <span class="string">"test:4321"</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "set_hostname"></a>
    <strong>set_hostname (url, hostname)</strong>
    </dt>
    <dd>
    Sets host (name only) to the URL. </p>

<p> See: <a href="https://url.spec.whatwg.org/#dom-url-hostname">https://url.spec.whatwg.org/#dom-url-hostname</a>


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         URL (or part of it) for which to set the host (name only)
        </li>
        <li><span class="parameter">hostname</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         the host (name only) to set to the URL
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a> or <span class="type">nil</span></span>
        URL in a normalized form (except on errors <code>nil</code>)</li>
        <li>
           <span class="types"><span class="type">nil</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        error message</li>
    </ol>

    <h3>Raises:</h3>
    error when URL is not a string

    <h3>See also:</h3>
    <ul>
         <li><a href="../modules/resty.ada.html#has_hostname">has_hostname</a></li>
         <li><a href="../modules/resty.ada.html#has_empty_hostname">has_empty_hostname</a></li>
         <li><a href="../modules/resty.ada.html#get_hostname">get_hostname</a></li>
    </ul>

    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">local</span> res = ada.<span class="function-name">set_hostname</span>(<span class="string">"https://user:pass@host:1234/path?search#hash"</span>, <span class="string">"test"</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "set_port"></a>
    <strong>set_port (url, port)</strong>
    </dt>
    <dd>
    Sets port to the URL. </p>

<p> See: <a href="https://url.spec.whatwg.org/#dom-url-port">https://url.spec.whatwg.org/#dom-url-port</a>


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         URL (or part of it) for which to set the port
        </li>
        <li><span class="parameter">port</span>
            <span class="types"><span class="type">number</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         the port to set to the URL
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a> or <span class="type">nil</span></span>
        URL in a normalized form (except on errors <code>nil</code>)</li>
        <li>
           <span class="types"><span class="type">nil</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        error message</li>
    </ol>

    <h3>Raises:</h3>
    error when URL is not a string

    <h3>See also:</h3>
    <ul>
         <li><a href="../modules/resty.ada.html#has_port">has_port</a></li>
         <li><a href="../modules/resty.ada.html#get_port">get_port</a></li>
         <li><a href="../modules/resty.ada.html#clear_port">clear_port</a></li>
    </ul>

    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">local</span> res = ada.<span class="function-name">set_port</span>(<span class="string">"https://user:pass@host:1234/path?search#hash"</span>, <span class="number">4321</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "set_pathname"></a>
    <strong>set_pathname (url, path)</strong>
    </dt>
    <dd>
    Sets path to the URL. </p>

<p> See: <a href="https://url.spec.whatwg.org/#dom-url-pathname">https://url.spec.whatwg.org/#dom-url-pathname</a>


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         URL (or part of it) for which to set the path
        </li>
        <li><span class="parameter">path</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         the path to set to the URL
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a> or <span class="type">nil</span></span>
        URL in a normalized form (except on errors <code>nil</code>)</li>
        <li>
           <span class="types"><span class="type">nil</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        error message</li>
    </ol>

    <h3>Raises:</h3>
    error when URL is not a string

    <h3>See also:</h3>
    <ul>
         <a href="../modules/resty.ada.html#get_pathname">get_pathname</a>
    </ul>

    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">local</span> res = ada.<span class="function-name">set_pathname</span>(<span class="string">"https://user:pass@host:1234/path?search#hash"</span>, <span class="string">"foo"</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "set_search"></a>
    <strong>set_search (url, search)</strong>
    </dt>
    <dd>
    Sets search (query) to the URL. </p>

<p> See: <a href="https://url.spec.whatwg.org/#dom-url-search">https://url.spec.whatwg.org/#dom-url-search</a>


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         URL (or part of it) for which to set the query string
        </li>
        <li><span class="parameter">search</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         the query string to set to the URL
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a> or <span class="type">nil</span></span>
        URL in a normalized form (except on errors <code>nil</code>)</li>
        <li>
           <span class="types"><span class="type">nil</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        error message</li>
    </ol>

    <h3>Raises:</h3>
    error when URL is not a string

    <h3>See also:</h3>
    <ul>
         <li><a href="../modules/resty.ada.html#has_search">has_search</a></li>
         <li><a href="../modules/resty.ada.html#get_search">get_search</a></li>
         <li><a href="../modules/resty.ada.html#clear_search">clear_search</a></li>
    </ul>

    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">local</span> res = ada.<span class="function-name">set_search</span>(<span class="string">"https://user:pass@host:1234/path?search#hash"</span>, <span class="string">"q=1&amp;done"</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "set_hash"></a>
    <strong>set_hash (url, hash)</strong>
    </dt>
    <dd>
    Sets hash (fragment) to the URL. </p>

<p> See: <a href="https://url.spec.whatwg.org/#dom-url-hash">https://url.spec.whatwg.org/#dom-url-hash</a>


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         URL (or part of it) for which to set the fragment string
        </li>
        <li><span class="parameter">hash</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         the fragment to set to the URL
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a> or <span class="type">nil</span></span>
        URL in a normalized form (except on errors <code>nil</code>)</li>
        <li>
           <span class="types"><span class="type">nil</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        error message</li>
    </ol>

    <h3>Raises:</h3>
    error when URL is not a string

    <h3>See also:</h3>
    <ul>
         <li><a href="../modules/resty.ada.html#has_hash">has_hash</a></li>
         <li><a href="../modules/resty.ada.html#get_hash">get_hash</a></li>
         <li><a href="../modules/resty.ada.html#clear_hash">clear_hash</a></li>
    </ul>

    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">local</span> res = ada.<span class="function-name">set_hash</span>(<span class="string">"https://user:pass@host:1234/path?search#hash"</span>, <span class="string">"home"</span>)</pre>
    </ul>

</dd>
</dl>
    <h2 class="section-header "><a name="Clear_Functions"></a>Clear Functions </h2>

    <dl class="function">
    <dt>
    <a name = "clear_port"></a>
    <strong>clear_port (url)</strong>
    </dt>
    <dd>
    Clear URL&rsquo;s port. </p>

<p> See: <a href="https://url.spec.whatwg.org/#dom-url-port">https://url.spec.whatwg.org/#dom-url-port</a>


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         URL (or part of it) from which to clear the port
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a> or <span class="type">nil</span></span>
        URL in a normalized form (except on errors <code>nil</code>)</li>
        <li>
           <span class="types"><span class="type">nil</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        error message</li>
    </ol>

    <h3>Raises:</h3>
    error when URL is not a string

    <h3>See also:</h3>
    <ul>
         <li><a href="../modules/resty.ada.html#has_port">has_port</a></li>
         <li><a href="../modules/resty.ada.html#get_port">get_port</a></li>
         <li><a href="../modules/resty.ada.html#set_port">set_port</a></li>
    </ul>

    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">local</span> res = ada.<span class="function-name">clear_port</span>(<span class="string">"https://user:pass@host:1234/path?search#hash"</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "clear_search"></a>
    <strong>clear_search (url)</strong>
    </dt>
    <dd>
    Clear URL&rsquo;s search (query string). </p>

<p> See: <a href="https://url.spec.whatwg.org/#dom-url-port">https://url.spec.whatwg.org/#dom-url-port</a>


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         URL (or part of it) from which to clear the query string
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a> or <span class="type">nil</span></span>
        URL in a normalized form (except on errors <code>nil</code>)</li>
        <li>
           <span class="types"><span class="type">nil</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        error message</li>
    </ol>

    <h3>Raises:</h3>
    error when URL is not a string

    <h3>See also:</h3>
    <ul>
         <li><a href="../modules/resty.ada.html#has_search">has_search</a></li>
         <li><a href="../modules/resty.ada.html#get_search">get_search</a></li>
         <li><a href="../modules/resty.ada.html#set_search">set_search</a></li>
    </ul>

    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">local</span> res = ada.<span class="function-name">clear_search</span>(<span class="string">"https://user:pass@host:1234/path?search#hash"</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "clear_hash"></a>
    <strong>clear_hash (url)</strong>
    </dt>
    <dd>
    Clear URL&rsquo;s hash (fragment). </p>

<p> See: <a href="https://url.spec.whatwg.org/#dom-url-port">https://url.spec.whatwg.org/#dom-url-port</a>


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         URL (or part of it) from which to clear the fragment
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a> or <span class="type">nil</span></span>
        URL in a normalized form (except on errors <code>nil</code>)</li>
        <li>
           <span class="types"><span class="type">nil</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        error message</li>
    </ol>

    <h3>Raises:</h3>
    error when URL is not a string

    <h3>See also:</h3>
    <ul>
         <li><a href="../modules/resty.ada.html#has_hash">has_hash</a></li>
         <li><a href="../modules/resty.ada.html#get_hash">get_hash</a></li>
         <li><a href="../modules/resty.ada.html#set_hash">set_hash</a></li>
    </ul>

    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">local</span> res = ada.<span class="function-name">clear_hash</span>(<span class="string">"https://user:pass@host:1234/path?search#hash"</span>)</pre>
    </ul>

</dd>
</dl>
    <h2 class="section-header "><a name="Search_Functions"></a>Search Functions </h2>

    <dl class="function">
    <dt>
    <a name = "search_parse"></a>
    <strong>search_parse (url)</strong>
    </dt>
    <dd>
    Parses search from URL and returns an instance of Ada URL Search.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         url (with search) to parse
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><a class="type" href="../classes/search.html#">search</a> or <span class="type">nil</span></span>
        Ada URL Search instance (except on errors <code>nil</code>)</li>
        <li>
           <span class="types"><span class="type">nil</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        error message</li>
    </ol>

    <h3>Raises:</h3>
    error when URL is not a string


    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> search = <span class="global">require</span>(<span class="string">"resty.ada.search"</span>).<span class="function-name">parse</span>(<span class="string">"a=b&amp;c=d&amp;e=f"</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "search_has"></a>
    <strong>search_has (url, key)</strong>
    </dt>
    <dd>
    Checks whether the url has a search with a key.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         url (with search) to parse
        </li>
        <li><span class="parameter">key</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         search parameter name to check
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><span class="type">boolean</span></span>
        <code>true</code> if search has the key, otherwise <code>false</code> (except on errors <code>nil</code>)</li>
        <li>
           <span class="types"><span class="type">nil</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        error message</li>
    </ol>

    <h3>Raises:</h3>
    error when URL is not a string


    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">local</span> res = ada.<span class="function-name">search_has</span>(<span class="string">"https://user:pass@host:1234/?a=b&amp;c=d&amp;e=f"</span>, <span class="string">"a"</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "search_has_value"></a>
    <strong>search_has_value (url, key, value)</strong>
    </dt>
    <dd>
    Checks whether the url has a search with a key with a specific value.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         url (with search) to parse
        </li>
        <li><span class="parameter">key</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         search parameter name to check
        </li>
        <li><span class="parameter">value</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         search parameter value to check
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><span class="type">boolean</span></span>
        <code>true</code> if search has the key with the value, otherwise <code>false</code> (except on errors <code>nil</code>)</li>
        <li>
           <span class="types"><span class="type">nil</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        error message</li>
    </ol>

    <h3>Raises:</h3>
    error when URL is not a string


    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">local</span> res = ada.<span class="function-name">search_has_value</span>(<span class="string">"https://user:pass@host:1234/?a=b&amp;c=d&amp;e=f"</span>, <span class="string">"a"</span>, <span class="string">"b"</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "search_get"></a>
    <strong>search_get (url, key)</strong>
    </dt>
    <dd>
    Get URL&rsquo;s search parameter&rsquo;s value.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         url (with search) to parse
        </li>
        <li><span class="parameter">key</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         search parameter name
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a> or <span class="type">nil</span></span>
        parameter value or <code>nil</code> (and on errors <code>nil</code>)</li>
        <li>
           <span class="types"><span class="type">nil</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        error message</li>
    </ol>

    <h3>Raises:</h3>
    error when URL is not a string


    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">local</span> res = ada.<span class="function-name">search_get</span>(<span class="string">"https://user:pass@host:1234/?a=b&amp;c=d&amp;e=f"</span>, <span class="string">"a"</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "search_get_all"></a>
    <strong>search_get_all (url, key)</strong>
    </dt>
    <dd>
    Get all the URL&rsquo;s search parameter&rsquo;s values.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         url (with search) to parse
        </li>
        <li><span class="parameter">key</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         search parameter name
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.5">table</a> or <span class="type">nil</span></span>
        array of all the values (or an empty array) (except on errors <code>nil</code>)</li>
        <li>
           <span class="types"><span class="type">nil</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        error message</li>
    </ol>

    <h3>Raises:</h3>
    error when URL is not a string


    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">local</span> res = ada.<span class="function-name">search_get_all</span>(<span class="string">"https://user:pass@host:1234/?a=b&amp;c=d&amp;e=f"</span>, <span class="string">"a"</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "search_set"></a>
    <strong>search_set (url, key, value)</strong>
    </dt>
    <dd>
    Set the URL&rsquo;s search parameter&rsquo;s value.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         url (with search) to parse
        </li>
        <li><span class="parameter">key</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         search parameter name
        </li>
        <li><span class="parameter">value</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         search parameter value
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a> or <span class="type">nil</span></span>
        string presentation of the URL (except on errors <code>nil</code>)</li>
        <li>
           <span class="types"><span class="type">nil</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        error message</li>
    </ol>

    <h3>Raises:</h3>
    error when URL is not a string


    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">local</span> res = ada.<span class="function-name">search_set</span>(<span class="string">"https://user:pass@host:1234/?a=b&amp;c=d&amp;e=f"</span>, <span class="string">"a"</span>, <span class="string">"g"</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "search_append"></a>
    <strong>search_append (url, key, value)</strong>
    </dt>
    <dd>
    Append value to the the URL&rsquo;s search parameter.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         url (with search) to parse
        </li>
        <li><span class="parameter">key</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         search parameter name
        </li>
        <li><span class="parameter">value</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         search parameter value
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a> or <span class="type">nil</span></span>
        string presentation of the URL (except on errors <code>nil</code>)</li>
        <li>
           <span class="types"><span class="type">nil</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        error message</li>
    </ol>

    <h3>Raises:</h3>
    error when URL is not a string


    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">local</span> res = ada.<span class="function-name">search_append</span>(<span class="string">"https://user:pass@host:1234/?a=b&amp;c=d&amp;e=f"</span>, <span class="string">"a"</span>, <span class="string">"g"</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "search_remove"></a>
    <strong>search_remove (url, key)</strong>
    </dt>
    <dd>
    Remove search parameter from URL.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         url (with search) to parse
        </li>
        <li><span class="parameter">key</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         search parameter name
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a> or <span class="type">nil</span></span>
        string presentation of the URL (except on errors <code>nil</code>)</li>
        <li>
           <span class="types"><span class="type">nil</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        error message</li>
    </ol>

    <h3>Raises:</h3>
    error when URL is not a string


    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">local</span> res = ada.<span class="function-name">search_remove</span>(<span class="string">"https://user:pass@host:1234/?a=b&amp;c=d&amp;e=f"</span>, <span class="string">"a"</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "search_remove_value"></a>
    <strong>search_remove_value (url, key, value)</strong>
    </dt>
    <dd>
    Remove search parameter&rsquo;s value from URL.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         url (with search) to parse
        </li>
        <li><span class="parameter">key</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         search parameter name
        </li>
        <li><span class="parameter">value</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         search parameter&rsquo;s value
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a> or <span class="type">nil</span></span>
        string presentation of the URL (except on errors <code>nil</code>)</li>
        <li>
           <span class="types"><span class="type">nil</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        error message</li>
    </ol>

    <h3>Raises:</h3>
    error when URL is not a string


    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">local</span> res = ada.<span class="function-name">search_remove_value</span>(<span class="string">"https://user:pass@host:1234/?a=b&amp;c=d&amp;e=f"</span>, <span class="string">"a"</span>, <span class="string">"b"</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "search_sort"></a>
    <strong>search_sort (url)</strong>
    </dt>
    <dd>
    Sort the URL&rsquo;s search parameters.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         url (with search) to parse
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a> or <span class="type">nil</span></span>
        string presentation of the URL (except on errors <code>nil</code>)</li>
        <li>
           <span class="types"><span class="type">nil</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        error message</li>
    </ol>

    <h3>Raises:</h3>
    error when URL is not a string


    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">local</span> res = ada.<span class="function-name">search_sort</span>(<span class="string">"https://user:pass@host:1234/?e=f&amp;c=d&amp;a=b"</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "search_size"></a>
    <strong>search_size (url)</strong>
    </dt>
    <dd>
    Count search parameters in URL.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         url (with search) to parse
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><span class="type">number</span> or <span class="type">nil</span></span>
        search parameters count (except on errors <code>nil</code>)</li>
        <li>
           <span class="types"><span class="type">nil</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        error message</li>
    </ol>

    <h3>Raises:</h3>
    error when URL is not a string


    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">local</span> res = ada.<span class="function-name">search_size</span>(<span class="string">"https://user:pass@host:1234/?a=b&amp;c=d&amp;e=f"</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "search_each"></a>
    <strong>search_each (url)</strong>
    </dt>
    <dd>
    Iterate over search parameters in URL.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         url (with search) to parse
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><span class="type">function</span></span>
        iterator function (except on errors <code>nil</code>)</li>
        <li>
           <span class="types"><span class="type">cdata</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        state or error message</li>
    </ol>

    <h3>Raises:</h3>
    error when URL is not a string


    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">for</span> param <span class="keyword">in</span> ada.<span class="function-name">search_each</span>(<span class="string">"https://user:pass@host:1234/?a=b&amp;c=d&amp;e=f"</span>) <span class="keyword">do</span>
  <span class="global">print</span>(param.key, <span class="string">" = "</span>, param.value)
<span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "search_each_key"></a>
    <strong>search_each_key (url)</strong>
    </dt>
    <dd>
    Iterate over each key in parameters in URL.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         url (with search) to parse
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><span class="type">function</span></span>
        iterator function (except on errors <code>nil</code>)</li>
        <li>
           <span class="types"><span class="type">cdata</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        state or error message</li>
    </ol>

    <h3>Raises:</h3>
    error when URL is not a string


    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">for</span> key <span class="keyword">in</span> ada.<span class="function-name">search_each_key</span>(<span class="string">"https://user:pass@host:1234/?a=b&amp;c=d&amp;e=f"</span>) <span class="keyword">do</span>
  <span class="global">print</span>(<span class="string">"key: "</span>, key)
<span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "search_each_value"></a>
    <strong>search_each_value (url)</strong>
    </dt>
    <dd>
    Iterate over each value in search parameters in URL.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         url (with search) to parse
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><span class="type">function</span></span>
        iterator function (except on errors <code>nil</code>)</li>
        <li>
           <span class="types"><span class="type">cdata</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        state or error message</li>
    </ol>

    <h3>Raises:</h3>
    error when URL is not a string


    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">for</span> value <span class="keyword">in</span> ada.<span class="function-name">search_each_value</span>(<span class="string">"https://user:pass@host:1234/?a=b&amp;c=d&amp;e=f"</span>) <span class="keyword">do</span>
  <span class="global">print</span>(<span class="string">"value: "</span>, value)
<span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "search_pairs"></a>
    <strong>search_pairs (url)</strong>
    </dt>
    <dd>
    Iterate over each key and value in search parameters in URL.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         url (with search) to parse
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><span class="type">function</span></span>
        iterator function (except on errors <code>nil</code>)</li>
        <li>
           <span class="types"><span class="type">cdata</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        state or error message</li>
    </ol>

    <h3>Raises:</h3>
    error when URL is not a string


    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">for</span> key, value <span class="keyword">in</span> ada.<span class="function-name">search_pairs</span>(<span class="string">"https://user:pass@host:1234/?a=b&amp;c=d&amp;e=f"</span>) <span class="keyword">do</span>
  <span class="global">print</span>(key, <span class="string">" = "</span>, value)
<span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "search_ipairs"></a>
    <strong>search_ipairs (url)</strong>
    </dt>
    <dd>
    Iterate over each parameter in search parameters in URL.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         url (with search) to parse
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><span class="type">function</span></span>
        iterator function (except on errors <code>nil</code>)</li>
        <li>
           <span class="types"><span class="type">cdata</span> or <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        state or error message</li>
    </ol>

    <h3>Raises:</h3>
    error when URL is not a string


    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">for</span> i, param <span class="keyword">in</span> ada.<span class="function-name">search_ipairs</span>(<span class="string">"https://user:pass@host:1234/?a=b&amp;c=d&amp;e=f"</span>) <span class="keyword">do</span>
  <span class="global">print</span>(i, <span class="string">". "</span>, param.key, <span class="string">" = "</span>, param.value)
<span class="keyword">end</span></pre>
    </ul>

</dd>
</dl>
    <h2 class="section-header "><a name="Fields"></a>Fields </h2>

    <dl class="function">
    <dt>
    <a name = "_VERSION"></a>
    <strong>_VERSION</strong>
    </dt>
    <dd>
    resty.ada version






    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">local</span> ver = ada._VERSION</pre>
    </ul>

</dd>
    <dt>
    <a name = "search"></a>
    <strong>search</strong>
    </dt>
    <dd>
    resty.ada.search





    <h3>See also:</h3>
    <ul>
         <a href="../modules/resty.ada.search.html#">resty.ada.search</a>
    </ul>

    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ada = <span class="global">require</span>(<span class="string">"resty.ada"</span>)
<span class="keyword">local</span> result = ada.search.<span class="function-name">has</span>(<span class="string">"a=b&amp;c=d&amp;e=f"</span>, <span class="string">"a"</span>)</pre>
    </ul>

</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/lunarmodules/LDoc">LDoc 1.5.0</a></i>
<i style="float:right;">Last updated 2024-07-05 00:34:40 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
